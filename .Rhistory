library('ProjectTemplate')
load.project()
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = normalizePath(".."))
library(ProjectTemplate)
load.project()
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = normalizePath(".."))
library(ProjectTemplate)
load.project()
library(ProjectTemplate)
load.project()
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = normalizePath(".."))
library(ProjectTemplate)
load.project()
data1
data1
data1 <- read.csv("~/Desktop/CSC8631/CSC8631/CSC8631-PROJECT/data/cyber-security-1_enrolments.csv")
selected_data <- data1 %>%
select(learner_id, enrolled_at, unenrolled_at, highest_degree, employment)
head(selected_data)
selected_data <- data1 %>%
select(learner_id, enrolled_at, unenrolled_at, highest_degree, employment)
selected_data <- data1 %>%
select(learner_id, enrolled_at, unenrolled_at, highest_education_level, employment)
data1 <- read.csv("~/Desktop/CSC8631/CSC8631/CSC8631-PROJECT/data/cyber-security-1_enrolments.csv")
selected_data <- data1 %>%
select(learner_id, enrolled_at, unenrolled_at, highest_education_level, employment_area)
head(selected_data)
data1 <- read.csv("~/Desktop/CSC8631/CSC8631/CSC8631-PROJECT/data/cyber-security-1_enrolments.csv")
selected_data <- data1 %>%
select(learner_id, enrolled_at, unenrolled_at, highest_education_level, employment_area)
head(selected_data)
file_paths <- c(
"~/Desktop/CSC8631/CSC8631/CSC8631-PROJECT/data/cyber-security-1_enrolments.csv",
"~/Desktop/CSC8631/CSC8631/CSC8631-PROJECT/data/cyber-security-2_enrolments.csv",
"~/Desktop/CSC8631/CSC8631/CSC8631-PROJECT/data/cyber-security-3_enrolments.csv",
"~/Desktop/CSC8631/CSC8631/CSC8631-PROJECT/data/cyber-security-4_enrolments.csv",
"~/Desktop/CSC8631/CSC8631/CSC8631-PROJECT/data/cyber-security-5_enrolments.csv",
"~/Desktop/CSC8631/CSC8631/CSC8631-PROJECT/data/cyber-security-6_enrolments.csv",
"~/Desktop/CSC8631/CSC8631/CSC8631-PROJECT/data/cyber-security-7_enrolments.csv"
)
selected_data_list <- lapply(file_paths, function(file) {
read.csv(file) %>%
select(learner_id, enrolled_at, unenrolled_at, highest_education_level, employment_area)
})
combined_selected_data <- bind_rows(selected_data_list)
data1 <- read.csv("~/Desktop/CSC8631/CSC8631/CSC8631-PROJECT/data/cyber-security-1_enrolments.csv")
selected_data <- data1 %>%
select(learner_id, enrolled_at, unenrolled_at, highest_education_level, employment_area)
head(combined_selected_data)
cleaned_data <- read.csv(file_paths[i]) %>%
select(learner_id, enrolled_at, unenrolled_at, highest_education_level, employment_area) %>%
filter(!is.na(learner_id))
file_paths <- c(
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-1_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-2_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-3_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-4_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-5_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-6_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-7_enrolments.csv"
)
cleaned_file_paths <- c(
"~~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_1.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_2.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_3.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_4.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_5.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_6.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_7.csv"
)
for (i in seq_along(file_paths)) {
cleaned_data <- read.csv(file_paths[i]) %>%
select(learner_id, enrolled_at, unenrolled_at, highest_education_level, employment_area) %>%
filter(!is.na(learner_id))
write.csv(cleaned_data, cleaned_file_paths[i], row.names = FALSE)
}
file_paths <- c(
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-1_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-2_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-3_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-4_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-5_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-6_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-7_enrolments.csv"
)
cleaned_file_paths <- c(
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_1.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_2.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_3.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_4.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_5.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_6.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_7.csv"
)
for (i in seq_along(file_paths)) {
cleaned_data <- read.csv(file_paths[i]) %>%
select(learner_id, enrolled_at, unenrolled_at, highest_education_level, employment_area) %>%
filter(!is.na(learner_id))
write.csv(cleaned_data, cleaned_file_paths[i], row.names = FALSE)
}
file_paths <- c(
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-1_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-2_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-3_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-4_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-5_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-6_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-7_enrolments.csv"
)
cleaned_file_paths <- c(
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_1.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_2.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_3.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_4.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_5.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_6.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_7.csv"
)
output_dir <- "~/Desktop/courseWorkCS8631/data/preProcessedData"
if (!dir.exists(output_dir)) {
dir.create(output_dir, recursive = TRUE)
}
for (i in seq_along(file_paths)) {
cleaned_data <- read.csv(file_paths[i]) %>%
select(learner_id, enrolled_at, unenrolled_at, highest_education_level, employment_area) %>%
filter(!is.na(learner_id)) %>%
mutate(unenrolled_at = ifelse(unenrolled_at == "", "unknown", unenrolled_at))
write.csv(cleaned_data, cleaned_file_paths[i], row.names = FALSE)
}
file_paths <- c(
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-1_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-2_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-3_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-4_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-5_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-6_enrolments.csv",
"~/Desktop/courseWorkCS8631/data/rawData/cyber-security-7_enrolments.csv"
)
cleaned_file_paths <- c(
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_1.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_2.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_3.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_4.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_5.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_6.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_7.csv"
)
output_dir <- "~/Desktop/courseWorkCS8631/data/preProcessedData"
if (!dir.exists(output_dir)) {
dir.create(output_dir, recursive = TRUE)
}
for (i in seq_along(file_paths)) {
cleaned_data <- read.csv(file_paths[i]) %>%
select(learner_id, enrolled_at, unenrolled_at, highest_education_level, employment_area) %>%
filter(!is.na(learner_id)) %>%
mutate(unenrolled_at = ifelse(unenrolled_at == "", "unknown", unenrolled_at))
write.csv(cleaned_data, cleaned_file_paths[i], row.names = FALSE)
}
cleaned_file_paths <- c(
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_1.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_2.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_3.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_4.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_5.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_6.csv",
"~/Desktop/courseWorkCS8631/data/preProcessedData/cleaned_cyber_security_7.csv"
)
# Read each file and store them in a list
cleaned_data_list <- lapply(cleaned_file_paths, read.csv)
# Combine all data frames in the list into a single data frame
combined_cleaned_data <- bind_rows(cleaned_data_list)
# Save the combined data to a single CSV file
write.csv(combined_cleaned_data, "~/Desktop/courseWorkCS8631/data/finalData/combined_cleaned_cyber_security.csv", row.names = FALSE)
library(ProjectTemplate)
load.project()
combined_data <- read.csv("data/final/combined_cleaned_cyber_security.csv")
library(ProjectTemplate)
load.project()
combined_data <- read.csv("~/Desktop/courseWorkCS8631/data/finalData/combined_cleaned_cyber_security.csv")
head(combined_data)
# Load the combined data
combined_data <- read.csv("~/Desktop/courseWorkCS8631/data/finalData/combined_cleaned_cyber_security.csv")
combined_data <- combined_data %>%
mutate(
enrolled_at = as.Date(enrolled_at),
unenrolled_at = as.Date(unenrolled_at)
)
install.packages("lubridate")
# Load the combined data
combined_data <- read.csv("~/Desktop/courseWorkCS8631/data/finalData/combined_cleaned_cyber_security.csv")
combined_data <- combined_data %>%
mutate(
enrolled_at = as.Date(enrolled_at),
unenrolled_at = as.Date(unenrolled_at)
)
# Load the combined data
combined_data <- read.csv("~/Desktop/courseWorkCS8631/data/finalData/combined_cleaned_cyber_security.csv")
combined_data <- combined_data %>%
mutate(
enrolled_at = ymd_hms(enrolled_at) %>% as.Date(),
unenrolled_at = ymd_hms(unenrolled_at) %>% as.Date()
)
library(lubridate)
# Load the combined data
combined_data <- read.csv("~/Desktop/courseWorkCS8631/data/finalData/combined_cleaned_cyber_security.csv")
combined_data <- combined_data %>%
mutate(
enrolled_at = ymd_hms(enrolled_at) %>% as.Date(),
unenrolled_at = ymd_hms(unenrolled_at) %>% as.Date()
)
write.csv(combined_data, "~/Desktop/courseWorkCS8631/data/finalData/combined_cleaned_cyber_security.csv", row.names = FALSE)
# Load the combined data
combined_data <- read.csv("~/Desktop/courseWorkCS8631/data/finalData/combined_cleaned_cyber_security.csv")
combined_data <- combined_data %>%
mutate(
enrolled_at = parse_date_time(enrolled_at, orders = c("ymd_hms", "ymd")) %>% as.Date(),
unenrolled_at = parse_date_time(unenrolled_at, orders = c("ymd_hms", "ymd")) %>% as.Date()
)
# Save the modified data back to the CSV file
write.csv(combined_data, "~/Desktop/courseWorkCS8631/data/finalData/combined_cleaned_cyber_security.csv", row.names = FALSE)
# Load the combined data
combined_data <- read.csv("~/Desktop/courseWorkCS8631/data/finalData/combined_cleaned_cyber_security.csv")
# Modify 'enrolled_at' and 'unenrolled_at' columns to extract only the date
combined_data <- combined_data %>%
mutate(
enrolled_at = parse_date_time(enrolled_at, orders = c("Ymd_HMS", "Ymd")) %>% as.Date(),
unenrolled_at = parse_date_time(unenrolled_at, orders = c("Ymd_HMS", "Ymd")) %>% as.Date()
)
# Save the modified data back to the CSV file
write.csv(combined_data, "~/Desktop/courseWorkCS8631/data/finalData/combined_cleaned_cyber_security.csv", row.names = FALSE)
head(combined_data)
combined_data <- read.csv("~/Desktop/courseWorkCS8631/data/finalData/combined_cleaned_cyber_security.csv")
combined_data <- combined_data %>%
mutate(
enrolled_at = parse_date_time(enrolled_at, orders = c("Ymd_HMS", "Ymd")) %>% as.Date(),
unenrolled_at = parse_date_time(unenrolled_at, orders = c("Ymd_HMS", "Ymd")) %>% as.Date()
)
combined_data <- combined_data %>%
mutate(
highest_education_level = ifelse(highest_education_level == "unknown", NA, highest_education_level),
employment_area = ifelse(employment_area == "unknown", NA, employment_area)
)
write.csv(combined_data, "~/Desktop/courseWorkCS8631/data/finalData/combined_cleaned_cyber_security.csv", row.names = FALSE)
head(combined_data)
combined_data <- read.csv("~/Desktop/courseWorkCS8631/data/finalData/combined_cleaned_cyber_security.csv")
combined_data <- combined_data %>%
mutate(
enrolled_at = parse_date_time(enrolled_at, orders = c("Ymd_HMS", "Ymd")) %>% as.Date(),
unenrolled_at = parse_date_time(unenrolled_at, orders = c("Ymd_HMS", "Ymd")) %>% as.Date()
)
combined_data <- combined_data %>%
mutate(
highest_education_level = ifelse(highest_education_level == "Unknown", NA, highest_education_level),
employment_area = ifelse(employment_area == "Unknown", NA, employment_area)
)
write.csv(combined_data, "~/Desktop/courseWorkCS8631/data/finalData/combined_cleaned_cyber_security.csv", row.names = FALSE)
head(combined_data)
